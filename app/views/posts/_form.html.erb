<%= form_for (@post) do |f| %>
<%= f.label :title %>
<%= f.text_field :title %>

<%= f.label :content %>
<%= f.text_field :content %>

<!--#collection_check_box will generate  a checkbox named post[category_ids][] for each category in Category.all
    #it will use the :id as the value for the check box
    # and it will use the :name method as the label for the checkbox-->
<%= f.collection_check_boxes(:category_ids, Category.all, :id, :name) do |b| %>
  <p>
    <%= b.label %>
    <%= b.check_box %>
  </p>
<% end %>

  <%= f.fields_for :categories do |category_builder| %>
    <%= category_builder.text_field :name %>
  <% end %>

  <%= f.submit %>

<% end %>
