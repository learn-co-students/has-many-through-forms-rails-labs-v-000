
<%= form_for @post do |f| %>
  <%= f.label "Title" %><br>
  <%= f.text_field :title %><br>
  <%= f.label "Content" %><br>
  <%= f.text_area :content %><br>
  Categories:<br> 
  <%= f.collection_check_boxes :category_ids, Category.all, :id, :name %><br><br>
  Add a New Category:<br> 
  <%= f.fields_for :categories, @post.categories.build do |categories_fields| %>
    <%= categories_fields.text_field :name %><br>
  <% end %>
  <%= f.submit %>
<% end %>


<!-- collection_check_boxes without the helpers -->
<!--
  <% Category.all.each do |c| %>
    <p>
      <label for="category_id_<%= c.id %>"><%= c.name %></label>
      <input type="checkbox" name="post[category_ids]" value="<%= c.id %>">
    </p>
  <% end %>
  -->
  