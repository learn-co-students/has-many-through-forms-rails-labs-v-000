<%= form_for(@post) do |f| %>

  <p><%= f.label :title %>
  <%= f.text_field :title %></p>

  <p><%= f.label :content %>
  <%= f.text_field :content %></p>
  <!-- Make check boxes for previously exisintg categories -->
  <!-- <#% Category.all.each do |c| %>
    <label for="category_id_<#%= c.id %>"><#%= c.name %></label>
    <input type="checkbox" name="post[category_ids][]" value="<#%= c.id %>" id="<#%= c.name %>">
  <#% end %> -->
  <%= f.collection_check_boxes(:category_ids, Category.all, :id, :name) %>

  <!-- <input type="text" id="post_categories_attributes_0_name" name="post[categories_attributes][0][name]">
  <input type="text" id="post_categories_attributes_1_name" name="post[categories_attributes][1][name]"> -->
  <!-- rails version:  -->
  <%= f.fields_for :categories, Category.new do |category_builder| %>
   <%= category_builder.text_field :name %>
   <% end %>

  <%= f.submit %>

<% end %>
