<%= form_for @post do |f| %>
<%= f.label "Title" %>
<%= f.text_field :title%><br />

<%=f.label "Content"%>
<%=f.text_area :content%><br />

<%= f.collection_check_boxes :category_ids, Category.all, :id, :name%>
<%
#will generate a checkbox named post[category_ids][] for each category in Category.all
#it will use the :id as teh value for the check box
#and it will use the :name method as a label for the checkbox.
%>

<%= f.fields_for :categories, @post.categories.build do |categories_fields|%>
  <%=categories_fields.text_field :name %>
<%end%>

<%=f.submit%>
<%end%>
